{% load static %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'login.css' %}">
{% endblock %}

{% block content %}
<div class="login-container">
  <!-- Logo y Branding EMATEL -->
  <div class="company-branding">
    <div class="company-logo">
      <svg width="60" height="60" viewBox="0 0 60 60" fill="none" xmlns="http://www.w3.org/2000/svg">
        <circle cx="30" cy="30" r="28" fill="url(#gradient1)" stroke="url(#gradient2)" stroke-width="2"/>
        <path d="M20 25h20M20 30h20M20 35h15" stroke="white" stroke-width="2.5" stroke-linecap="round"/>
        <circle cx="42" cy="18" r="3" fill="white" opacity="0.8"/>
        <circle cx="18" cy="42" r="2" fill="white" opacity="0.6"/>
        <defs>
          <linearGradient id="gradient1" x1="0%" y1="0%" x2="100%" y2="100%">
            <stop offset="0%" style="stop-color:#0369a1"/>
            <stop offset="50%" style="stop-color:#0284c7"/>
            <stop offset="100%" style="stop-color:#0ea5e9"/>
          </linearGradient>
          <linearGradient id="gradient2" x1="0%" y1="0%" x2="100%" y2="100%">
            <stop offset="0%" style="stop-color:#38bdf8"/>
            <stop offset="100%" style="stop-color:#0369a1"/>
          </linearGradient>
        </defs>
      </svg>
    </div>
    <div class="company-name">EMATEL</div>
    <div class="company-subtitle">Ingeniería Eléctrica al Servicio de la Industria y El Comercio.</div>
  </div>

  <h1>Iniciar sesión</h1>

  {% if form.errors %}
    <div class="alert error">
      <svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor">
        <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z" clip-rule="evenodd"/>
      </svg>
      Usuario o contraseña incorrectos.
    </div>
  {% endif %}

  <form method="post" action="{% url 'login' %}">
    {% csrf_token %}
    
    <div class="form-row">
      <div class="input-group">
        <input type="text" name="username" id="id_username" class="input" placeholder=" " required>
        <div class="input-icon">
          <svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor">
            <path fill-rule="evenodd" d="M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z" clip-rule="evenodd"/>
          </svg>
        </div>
        <label for="id_username" class="floating-label">Usuario</label>
      </div>
    </div>

    <div class="form-row">
      <div class="input-group">
        <input type="password" name="password" id="id_password" class="input" placeholder=" " required>
        <div class="input-icon">
          <svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor">
            <path fill-rule="evenodd" d="M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z" clip-rule="evenodd"/>
          </svg>
        </div>
        <label for="id_password" class="floating-label">Contraseña</label>
      </div>
    </div>

    <button type="submit" class="btn">
      <span class="btn-text">Ingresar</span>
      <div class="btn-icon">
        <svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor">
          <path fill-rule="evenodd" d="M3 3a1 1 0 011 1v12a1 1 0 11-2 0V4a1 1 0 011-1zm7.707 3.293a1 1 0 010 1.414L9.414 9H17a1 1 0 110 2H9.414l1.293 1.293a1 1 0 01-1.414 1.414l-3-3a1 1 0 010-1.414l3-3a1 1 0 011.414 0z" clip-rule="evenodd"/>
        </svg>
      </div>
    </button>
  </form>

  <div class="login-footer">
    <a href="#" class="forgot-password">¿Olvidaste tu contraseña?</a>
  </div>
</div>
{% endblock %}